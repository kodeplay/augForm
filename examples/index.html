<!DOCTYPE html>
<html>
  <head>
    <title>Jquery Augmentable Form Plugin</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="../src/augForm.js"></script>
  </head>
  <body>
    <div class="container">
      <h2>AugForm</h2>
      <p>
        AugForm is a <a href="http://jquery.com">jquery</a> plugin for quickly adding the functionality of `growing` to 
        html forms, ie. the user can add and remove fields from the form to increase or decrease the size of the form.
        For eg. Forms for saving meta data. <br/> <br/>
        A Form generated by <a href="https://www.djangoproject.com/">Django</a> 
        <a href="https://docs.djangoproject.com/en/1.3/topics/forms/formsets/">Formset</a> 
        would be a good example of this. In fact, it can be easily used with Django Formset using the 
        <a href="#">djangoFormSet</a> <a href="#">templateHandler</a>.
      </p>      
      
      <p>
        Here is a basic example which does not use any templateHandler to start with.
        Both adding and removing of fields is taken care of. Notice that after clicking on add field thrice, a delete button
        appears on hover. This is because set the option 'min' to 3        
      </p>
      
      <ul id="custom-handler-example" class="form-blocks tm40">
        <li>
          <table>            
            <tr>
              <td><label>Attribute Name: </label></td>
              <td><input type="text" name="atributes[name][]" value=""/></td>
            </tr>
            <tr>
              <td><label>Attribute Value: </label></td>
              <td><input type="text" class="w10" name="attributes[value][]" value="" /></td>
            </tr>                        
            <tr>
              <td><label>Sort Order: </label></td>
              <td><input type="text" class="w10" name="attributes[sort_order][]" value=""/></td>
            </tr>
          </table>
          <div class="rm-block">x</div>
        </li>
      </ul>
      <input type="button" id="addBtn" value="Add Field"/>
      
      <!-- This is the template for the block to be added -->    
      <table id="attr-block-tmpl" style="display: none;">            
        <tr>
          <td><label>Attribute Name: </label></td>
          <td><input type="text" name="atributes[name][]" value=""/></td>
        </tr>
        <tr>
          <td><label>Attribute Value: </label></td>
          <td><input type="text" class="w10" name="attributes[value][]" value="" /></td>
        </tr>                        
        <tr>
          <td><label>Sort Order: </label></td>
          <td><input type="text" class="w10" name="attributes[sort_order][]" value=""/></td>
        </tr>
      </table>
    </div>

    <p style="margin-top: 20px;">
      @author: Vineet Naik,
      <a href="http://kodeplay.com">Kodeplay</a><br/>
      Code available on Github: <a href="http://github.com/kodeplay/augForm">http://github.com/kodeplay/augForm</a>
    </p>
    
    <script type="text/javascript">
        $(document).ready(function () {
            $("#custom-handler-example").augForm({
                itemElem: 'li',
                addBtn: '#addBtn',
                min: 3,
                tmplHandler: false,
                onAdd: function () {
                    $tmpl = $("#attr-block-tmpl").clone();
                    $tmpl.removeAttr('id').removeAttr('style'); 
                    $tmpl.find('input').removeAttr('disabled');
                    $("#custom-handler-example").append($('<li><div class="rm-block">x</div></li>').append($tmpl)); 
                }
            });
        });
    </script>
  </body>  
</html>
